{
  "default_profile": "balance",
  "request_router": {
    "enabled": true,
    "provider": "ollama",
    "model": "qwen2.5:7b-instruct-q4_K_M",
    "timeout_seconds": 20,
    "min_confidence": 75
  },
  "router_rules": {
    "default_profile": "balance",
    "routes": [
      {
        "when_intents_any": ["translation", "rewrite", "summarize_short"],
        "when_complexity_any": ["low"],
        "when_safety_any": ["low"],
        "profile": "local_only"
      }
    ]
  },
  "history_context": {
    "strategy": "embedding",
    "provider": "openai",
    "model": "text-embedding-3-small",
    "timeout_seconds": 12,
    "batch_size": 24,
    "freshness_half_life_days": 180,
    "stale_weight": 0.55,
    "superseded_weight": 0.20,
    "deprecations": [
      {
        "id": "authjs-migration",
        "legacy_terms": ["nextauth", "next-auth"],
        "current_terms": ["auth.js", "authjs", "better auth"]
      },
      {
        "id": "next-app-router-migration",
        "legacy_terms": ["pages router", "getserversideprops", "getstaticprops", "_app.tsx", "_document.tsx"],
        "current_terms": ["app router", "route handler", "server component", "layout.tsx"]
      },
      {
        "id": "react-query-rename",
        "legacy_terms": ["react-query", "react query v3"],
        "current_terms": ["tanstack query", "@tanstack/react-query"]
      },
      {
        "id": "next-image-legacy",
        "legacy_terms": ["next/legacy/image", "legacy image component"],
        "current_terms": ["next/image"]
      },
      {
        "id": "prisma-major-upgrade",
        "legacy_terms": ["prisma 4", "prisma4", "previewfeatures"],
        "current_terms": ["prisma 5", "prisma5"]
      },
      {
        "id": "eslint-flat-config",
        "legacy_terms": [".eslintrc", ".eslintrc.js", ".eslintrc.json"],
        "current_terms": ["eslint.config.js", "flat config"]
      },
      {
        "id": "next-font-migration",
        "legacy_terms": ["@next/font", "next font package"],
        "current_terms": ["next/font"]
      },
      {
        "id": "turbo-repo-rename",
        "legacy_terms": ["turborepo", "turbo repo"],
        "current_terms": ["turbo", "turbo.json"]
      }
    ]
  },
  "profiles": {
    "local_only": {
      "agents": [
        { "agent": "A", "provider": "ollama", "model": "qwen2.5:7b-instruct-q4_K_M" }
      ],
      "consensus": {
        "strategy": "peer_vote",
        "min_ok_results": 1,
        "rounds": 1
      },
      "timeout_seconds": 30
    },
    "cost": {
      "agents": [
        { "agent": "A", "provider": "openai", "model": "gpt-4o-mini" },
        { "agent": "B", "provider": "anthropic", "model": "claude-haiku-4-5-20251001" },
        { "agent": "C", "provider": "gemini", "model": "gemini-2.5-flash" }
      ],
      "consensus": {
        "strategy": "peer_vote",
        "min_ok_results": 2,
        "rounds": 1
      },
      "timeout_seconds": 40
    },
    "balance": {
      "agents": [
        { "agent": "A", "provider": "openai", "model": "gpt-4.1" },
        { "agent": "B", "provider": "anthropic", "model": "claude-sonnet-4-20250514" },
        { "agent": "C", "provider": "gemini", "model": "gemini-2.5-flash" }
      ],
      "consensus": {
        "strategy": "peer_vote",
        "min_ok_results": 2,
        "rounds": 1
      },
      "timeout_seconds": 25
    },
    "performance": {
      "agents": [
        { "agent": "A", "provider": "openai", "model": "gpt-5.1" },
        { "agent": "B", "provider": "anthropic", "model": "claude-sonnet-4-20250514" },
        { "agent": "C", "provider": "gemini", "model": "gemini-2.5-pro" }
      ],
      "consensus": {
        "strategy": "peer_vote",
        "min_ok_results": 2,
        "rounds": 1,
        "debate_mode": "strict",
        "min_criticisms": 2
      },
      "timeout_seconds": 35
    },
    "ultra": {
      "agents": [
        { "agent": "A", "provider": "openai", "model": "gpt-5.1" },
        { "agent": "B", "provider": "anthropic", "model": "claude-opus-4-1-20250805" },
        { "agent": "C", "provider": "gemini", "model": "gemini-2.5-pro" }
      ],
      "consensus": {
        "strategy": "peer_vote",
        "min_ok_results": 2,
        "rounds": 1,
        "debate_mode": "strict",
        "min_criticisms": 2
      },
      "timeout_seconds": 45
    }
  }
}
